(this["webpackJsonpclient-app"]=this["webpackJsonpclient-app"]||[]).push([[0],{313:function(e,t,n){},482:function(e,t,n){"use strict";n.r(t),n.d(t,"history",(function(){return mn}));var c=n(53),i=n.n(c),a=(n(311),n(312),n(313),function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,520)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),i(e),a(e),r(e)}))}),r=n(29),s=n(31),o=n(166),l=n(503),d=n(294),u=n(512),j=n(15),b=n(13),h=n(1),O=n.n(h),f=n(516),x=n(151),p=n(488),m=n(21),v=n(14),g=n(507),y=n(0),k=function(e){var t=Object(j.e)(e.name),n=Object(v.a)(t,2),c=n[0],i=n[1];return Object(y.jsxs)(g.a.Field,{error:i.touched&&!!i.error,className:e.holderClassName,style:{paddingTop:"5px",paddingBottom:"5px"},children:[!e.hasNoLabel&&Object(y.jsx)("label",{children:e.label}),Object(y.jsx)("input",Object(m.a)(Object(m.a)({},c),e)),i.touched&&i.error?Object(y.jsx)(x.a,{basic:!0,color:"red",children:i.error}):null]})},C=function(e){var t=Object(j.e)(e.name),n=Object(v.a)(t,2),c=(n[0],n[1]);return Object(y.jsxs)(g.a.Field,{error:c.touched&&!!c.error,className:e.holderClassName,style:{paddingTop:"5px",paddingBottom:"5px"},children:[!e.hasNoLabel&&Object(y.jsx)("label",{children:e.label}),Object(y.jsx)("input",{name:e.name,type:"file",onChange:e.onChange}),c.touched&&c.error?Object(y.jsx)(x.a,{basic:!0,color:"red",children:c.error}):null]})},w=function(e){var t=Object(j.e)(e.name),n=Object(v.a)(t,3),c=(n[0],n[1]),i=n[2],a=c.value,r=i.setValue;return Object(y.jsxs)(g.a.Field,{error:c.touched&&!!c.error,children:[Object(y.jsx)("label",{children:e.label}),Object(y.jsxs)("select",{onChange:function(t){r(t.currentTarget.value),e.onSelectValueChange&&e.onSelectValueChange(t.currentTarget.value)},name:e.name,className:e.className,id:e.name,children:[Object(y.jsx)("option",{value:"",children:"--Select Value--"}),e.options&&e.options.map((function(e,t){var n,c;return Object(y.jsx)("option",{value:null===(n=e.value)||void 0===n?void 0:n.toString(),selected:(c=e.value.toString(),c===a),children:e.text},t)}))]}),c.touched&&c.error?Object(y.jsx)(x.a,{basic:!0,color:"red",children:c.error}):null]})},S=function(e){var t=Object(j.e)(e.name),n=Object(v.a)(t,2),c=n[0],i=n[1];return Object(y.jsxs)(g.a.Field,{error:i.touched&&!!i.error,children:[Object(y.jsx)("label",{children:e.label}),Object(y.jsx)("textarea",Object(m.a)(Object(m.a)(Object(m.a)({},c),e),{},{children:c.value})),i.touched&&i.error?Object(y.jsx)(x.a,{basic:!0,color:"red",children:i.error}):null]})},T=n(10),_=n.n(T),N=n(19),A=n(24),E=n(37),M=n(11),F=n(28),D=n(102),P=n.n(D);P.a.defaults.baseURL="/api";var R=function(e){return new Promise((function(t){setTimeout(t,e)}))};P.a.interceptors.request.use((function(e){var t=ae.commonStore.token;return t&&(e.headers.Authorization="Bearer ".concat(t)),e})),P.a.interceptors.response.use(function(){var e=Object(N.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R(1e3);case 2:return e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),(function(e){var t=e.response,n=t.data,c=(t.headers,t.status);switch(c){case 400:if(n.errors){var i=[];for(var a in n.errors)n.errors[a]&&i.push(n.errors[a]);throw i.flat()}F.b.error(n),ae.commonStore.setServerError({message:n,statusCode:c,details:""});break;case 401:401===c&&(ae.userStore.logout(),mn.push("/"))}}));var L=function(e){return e.data},z=function(e){return P.a.get(e).then(L)},U=function(e,t){return P.a.post(e,t).then(L)},V=function(e,t){return P.a.put(e,t).then(L)},I=function(e){return P.a.delete(e).then(L)},B={EpCampaign:{list:function(){return z("/campaign")},detail:function(e){return z("/campaign/".concat(e))},create:function(e){return U("/campaign/create",e)},edit:function(e){return V("/campaign/edit",e)},delete:function(e){return I("/campaign/".concat(e))},segment:function(e){return U("/campaign/sentiment",e)}},ContactsEndPoint:{list:function(){return z("/contacts")},create:function(e){return U("/contacts/create",e)},find:function(e){return z("/contacts/".concat(e))},update:function(e){return V("/contacts",e)},delete:function(e){return I("/contacts/delete/".concat(e))},import:function(e){return U("/contacts/import",e)}},ActivityEndPoint:{sendSMS:function(e){return U("/activity/sms",e)},sendEmail:function(e){return U("/activity/email",e)},postWeb:function(e){return U("/activity/web",e)},postSocial:function(e){return U("/activity/social",e)},initialize:function(e){return z("/activity/initial/".concat(e))},replay:function(e){return z("/activity/replay/".concat(e))},delete:function(e){return I("/activity/".concat(e))}},TaskEndPoint:{fetchAll:function(){return z("/task")},fetchDetail:function(e){return z("/task/".concat(e))},create:function(e){return U("/task/create",e)},createUpdateSubTask:function(e){return U("/task/update",e)}},UserEndPoint:{current:function(){return z("/account/user")},getUserProfile:function(){return z("/account/profile")},login:function(e){return U("/account/login",e)},register:function(e){return U("/account/register",e)},update:function(e){return V("/account/update",e)},readNotification:function(e){return V("/account/notification",e)},all:function(){return z("/account")}},ChannelEndPoint:{fetchAll:function(){return z("/channel")},fetchSingle:function(e){return z("/channel/".concat(e))},createUpdate:function(e){return U("/channel",e)}}},H=function(){function e(){var t=this;Object(A.a)(this,e),this._loading=!1,this._default={groups:[],templates:[]},this.replay=function(){var e=Object(N.a)(_.a.mark((function e(n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t._loading=!1,t._loading=!0,e.next=5,B.ActivityEndPoint.replay(n);case 5:Object(M.h)((function(){t._loading=!1,Object(F.b)("Successfully save")})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),this.deleteActivity=function(){var e=Object(N.a)(_.a.mark((function e(n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t._loading=!0,e.next=4,B.ActivityEndPoint.delete(n);case 4:Object(M.h)((function(){t._loading=!1,Object(F.b)("Successfully deleted")})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),Object(F.b)("Error occured ".concat(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.sendEmailAsync=function(){var e=Object(N.a)(_.a.mark((function e(n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._loading=!0,e.next=3,B.ActivityEndPoint.sendEmail(n);case 3:Object(M.h)((function(){t._loading=!1,Object(F.b)("Successfully save")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.sendSMSAsync=function(){var e=Object(N.a)(_.a.mark((function e(n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t._loading=!0,e.next=4,B.ActivityEndPoint.sendSMS(n);case 4:Object(M.h)((function(){t._loading=!1})),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.postSocialasync=function(){var e=Object(N.a)(_.a.mark((function e(n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t._loading=!0,console.log(n),e.next=5,B.ActivityEndPoint.postSocial(n);case 5:Object(M.h)((function(){t._loading=!1,Object(F.b)("Successfully send")})),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),t._loading=!1,Object(F.b)("Error occured ".concat(e.t0));case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),this.postWebAsync=function(){var e=Object(N.a)(_.a.mark((function e(n){var c,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t._loading=!0,(c=new FormData).append("campaignId",n.campaignId),c.append("title",n.title),c.append("body",n.body),void 0!==n.coverImageFile&&c.append("coverImageFile",n.coverImageFile,null===(i=n.coverImageFile)||void 0===i?void 0:i.name),void 0!==n.dateToSend&&c.append("dateToSend",n.dateToSend&&n.dateToSend.toDateString()),c.append("to",n.to),e.next=11,B.ActivityEndPoint.postWeb(c);case 11:Object(M.h)((function(){t._loading=!1})),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),t._loading=!1;case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(t){return e.apply(this,arguments)}}(),this.initialize=function(){var e=Object(N.a)(_.a.mark((function e(n){var c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.ActivityEndPoint.initialize(n);case 3:return c=e.sent,Object(M.h)((function(){return t._default=c})),e.abrupt("return",c);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),this.getTemplateValue=function(e){var n;return t._default.templates.forEach((function(t){t.id===e&&(n=t)})),n},Object(M.d)(this)}return Object(E.a)(e,[{key:"loading",get:function(){return this._loading}},{key:"default",get:function(){return this._default}}]),e}(),G=function e(t,n){Object(A.a)(this,e),this.id="",this.campaignId="",this.title="",this.description="",this.type="",this.group="",this.dateToSend=new Date,this.isRecurrent=!1,this.days=0,this.status="",this.subject="",this.body="",this.coverImageFile=void 0,this.to="",this.toGroup="",this.toCC="",this.toBcc="",this.campaignId=t,this.type=n},W=function e(t){Object(A.a)(this,e),this.id=void 0,this.title="",this.description="",this.dateFrom=null,this.dateTo=null,this.activities=[],this.dateFrom=new Date(Date.now()),this.dateTo=new Date(Date.now()),Object.assign(this,t)},K=function e(t){Object(A.a)(this,e),this.id=void 0,this.title="",this.description="",this.dateFrom=null,this.dateTo=null,t&&Object.assign(this,t)},J=function(){function e(){var t=this;Object(A.a)(this,e),this._collection=void 0,this._selectedCampaign=void 0,this._sentiment=void 0,this._loading=!0,this.loadAsync=Object(N.a)(_.a.mark((function e(){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t._loading=!0,e.next=4,B.EpCampaign.list();case 4:n=e.sent,Object(M.h)((function(){t._collection=n,t._loading=!1})),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),this.fetchSingleAsync=function(){var e=Object(N.a)(_.a.mark((function e(n){var c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._loading=!0,e.next=3,B.EpCampaign.detail(n);case 3:return c=e.sent,Object(M.h)((function(){t.setCampaign(c),t._loading=!1})),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.saveAsync=function(){var e=Object(N.a)(_.a.mark((function e(n){var c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t._loading=!0,c=null,""!==n.id&&void 0!==n.id){e.next=9;break}return e.next=6,B.EpCampaign.create(n);case 6:c=e.sent,e.next=11;break;case 9:return e.next=11,B.EpCampaign.edit(n);case 11:return Object(M.h)((function(){t._loading=!1})),e.abrupt("return",c);case 15:e.prev=15,e.t0=e.catch(0),t._loading=!1;case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),this.updateAsync=function(){var e=Object(N.a)(_.a.mark((function e(n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t._loading=!0,e.next=4,B.EpCampaign.edit(n);case 4:Object(M.h)((function(){t._loading=!1})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t._loading=!1;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.deleteAsync=function(){var e=Object(N.a)(_.a.mark((function e(n){var c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t._loading=!0,e.next=4,B.EpCampaign.delete(n);case 4:Object(M.h)((function(){var e=t._collection.campaigns.filter((function(e){return e.id!==n}));e&&(t._collection.campaigns=e),t._loading=!1,Object(F.b)("Successfully Deleted")})),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),Object(F.b)(null===(c=ae.commonStore.error)||void 0===c?void 0:c.message),t._loading=!1;case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.getSentimentAsync=function(){var e=Object(N.a)(_.a.mark((function e(n){var c,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t._loading=!0,e.next=4,B.EpCampaign.segment(n);case 4:return c=e.sent,Object(M.h)((function(){t._sentiment=c,t._loading=!1})),e.abrupt("return",c);case 9:e.prev=9,e.t0=e.catch(0),Object(F.b)(null===(i=ae.commonStore.error)||void 0===i?void 0:i.message),t._loading=!1;case 13:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),this.setCampaign=function(e){t._selectedCampaign=new W(e)},Object(M.d)(this)}return Object(E.a)(e,[{key:"collection",get:function(){return this._collection}},{key:"selected",get:function(){return this._selectedCampaign?this._selectedCampaign:null}},{key:"loading",get:function(){return this._loading}},{key:"getSelectedActivity",value:function(e){var t,n;return null===(t=this._selectedCampaign)||void 0===t||null===(n=t.activities)||void 0===n?void 0:n.find((function(t){return t.type===e}))}}]),e}(),q=function(){function e(){var t=this;Object(A.a)(this,e),this._loading=!0,this._channels=[],this.fetchAllAsync=Object(N.a)(_.a.mark((function e(){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._loading=!0,e.next=3,B.ChannelEndPoint.fetchAll();case 3:n=e.sent,Object(M.h)((function(){t._channels=[],n.forEach((function(e){return t.setChannels(e,!0)})),t._loading=!1}));case 5:case"end":return e.stop()}}),e)}))),this.saveAsync=function(){var e=Object(N.a)(_.a.mark((function e(n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._loading=!0,e.next=3,B.ChannelEndPoint.createUpdate(n);case 3:Object(M.h)((function(){t._loading=!1,Object(F.b)("channel successfully save")}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.setChannels=function(e){var n,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1];c&&(null===(n=t._channels)||void 0===n||n.push(e))},Object(M.d)(this)}return Object(E.a)(e,[{key:"channels",get:function(){return this._channels}},{key:"loading",get:function(){return this._loading}}]),e}(),Q=function(){function e(){var t=this;Object(A.a)(this,e),this.error=null,this._token=window.localStorage.getItem("jwt"),this.appLoaded=!1,this.setServerError=function(e){t.error=e},this.setToken=function(e){t._token=e},this.setAppLoaded=function(){t.appLoaded=!0},Object(M.d)(this),Object(M.g)((function(){return t._token}),(function(e){e?window.localStorage.setItem("jwt",e):window.localStorage.removeItem("jwt")}))}return Object(E.a)(e,[{key:"token",get:function(){return this._token}}]),e}(),X=function e(t){Object(A.a)(this,e),this.id="",this.title="mr",this.firstName="",this.middleName="",this.lastName="",this.fullName="",this.emailAddress="",this.mobileNo="",this.gender="male",this.primaryContact="",this.type="",this.groupTag="",this.location="",t&&Object.assign(this,t)},Y=function(){function e(){var t=this;Object(A.a)(this,e),this._contactRegistry=new Map,this._contacts=[],this._contact=void 0,this._loading=!0,this._formTrigger=!1,this.fetchContactsAsync=function(){var e=Object(N.a)(_.a.mark((function e(n){var c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._loading=!0,e.next=3,B.ContactsEndPoint.list();case 3:c=e.sent,Object(M.h)((function(){t._contacts=[],c.forEach((function(e){return t.setContact(e)})),t._loading=!1,n&&n()}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.findContactAsync=function(){var e=Object(N.a)(_.a.mark((function e(n,c){var i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._loading=!0,e.next=3,B.ContactsEndPoint.find(n);case 3:return i=e.sent,Object(M.h)((function(){t._loading=!1,void 0!==c&&c(i)})),e.abrupt("return",i);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.fileUpload=function(){var e=Object(N.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t,t.name),e.next=4,B.ContactsEndPoint.import(n);case 4:return Object(M.h)((function(){Object(F.b)("Successfully uploaded")})),e.abrupt("return",!0);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.saveContactAsync=function(){var e=Object(N.a)(_.a.mark((function e(n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._loading=!0,t._formTrigger=!1,!n.id||""===n.id){e.next=6;break}B.ContactsEndPoint.update(n),e.next=8;break;case 6:return e.next=8,B.ContactsEndPoint.create(n);case 8:Object(M.h)((function(){t._loading=!1}));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateContactAsync=function(){var e=Object(N.a)(_.a.mark((function e(n,c){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._loading=!0,e.next=3,B.ContactsEndPoint.update(n);case 3:Object(M.h)((function(){t._loading=!1,t._contact=n,void 0!==c&&c()}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),this.createNew=function(){return new X({id:"",title:"mr",firstName:"",middleName:"",lastName:"",fullName:"",emailAddress:"",gender:"male",primaryContact:"",type:"mr",location:"",groupTag:""})},this.setFormTrigger=function(e){t._formTrigger=e},this.setContact=function(e){var n,c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];c?null===(n=t._contacts)||void 0===n||n.push(e):t._contactRegistry.set(e.id,e)},this._contact=new X,Object(M.d)(this)}return Object(E.a)(e,[{key:"getContact",get:function(){return this._contact}},{key:"getContacts",get:function(){return this._contacts}},{key:"getFormTrigger",get:function(){return this._formTrigger}},{key:"getLoading",get:function(){return this._loading}}]),e}(),Z=[{title:"Campaign",key:"campaign",link:"/campaign",enabled:!1,selected:!1,icon:"bullhorn"},{title:"Task",key:"task",link:"/task",enabled:!1,selected:!1,icon:"calendar outline"},{title:"Contact",key:"contact",link:"/contact",enabled:!1,selected:!1,icon:"user outline"},{title:"Settings",key:"settings",link:"/setting",enabled:!1,selected:!1,icon:"setting"},{title:"User",key:"user",link:"/user",enabled:!1,selected:!1,icon:"user"}],$=function(){function e(){Object(A.a)(this,e),Object(M.d)(this)}return Object(E.a)(e,[{key:"useDefaultAccess",value:function(){var e=ae.userStore.current,t="/";switch(null===e||void 0===e?void 0:e.roles[0]){case"manager":t="/campaign";break;case"admin":t="/contact";break;case"staff":t="/task";break;case"sales":t="/contact";break;default:t="/"}return t}},{key:"initialize",value:function(){var e=[];return Z.forEach((function(t){var n=ae.userStore.current,c=null===n||void 0===n?void 0:n.roles[0];switch(t.key){case"campaign":t.enabled="manager"===c;break;case"task":t.enabled="manager"===c||"admin"===c||"staff"===c;break;case"contact":t.enabled="admin"===c||"manager"===c||"sales"===c;break;case"settings":case"user":t.enabled="admin"===c}e.push(t)})),e}}]),e}(),ee=function(){function e(){var t=this;Object(A.a)(this,e),this._modal={isOpen:!1,onTriggerListener:function(e){}},this.open=function(){t._modal.isOpen=!0},this.close=function(){t._modal.isOpen=!1},this.setOnNotifyListener=function(e){return t.modal.onTriggerListener=e},this.notifyEvent=function(e){t.modal.onTriggerListener(e)},Object(M.d)(this)}return Object(E.a)(e,[{key:"modal",get:function(){return this._modal}}]),e}(),te=function(){function e(){var t=this;Object(A.a)(this,e),this._tasks=[],this._taskSelected=void 0,this._taskPerUser=void 0,this._loading=!0,this._users=void 0,this.fetchAllAsync=Object(N.a)(_.a.mark((function e(){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.setLoading(!0),e.next=3,B.TaskEndPoint.fetchAll();case 3:n=e.sent,Object(M.h)((function(){t._tasks=[],n&&n.forEach((function(e){return t.setTask(e,!0)}))})),t.setLoading(!1);case 6:case"end":return e.stop()}}),e)}))),this.createTaskAsync=function(){var e=Object(N.a)(_.a.mark((function e(n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.setLoading(!0),e.next=4,B.TaskEndPoint.create(n);case 4:Object(M.h)((function(){t.setTask(n,!1)})),t.setLoading(!1),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),this.fetchTaskAsync=function(){var e=Object(N.a)(_.a.mark((function e(n){var c,i=arguments;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i.length>1&&void 0!==i[1]?i[1]:"",t.setLoading(!0),e.next=4,B.TaskEndPoint.fetchDetail(n);case 4:c=e.sent,Object(M.h)((function(){t.setTask(c,!1),c.subTasks&&c.subTasks.length>0&&(t._users=[],c.subTasks.forEach((function(e){var n;null===(n=t._users)||void 0===n||n.push(e.assignedTo)})))})),t.setLoading(!1);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.addSubTask=function(){var e=Object(N.a)(_.a.mark((function e(n){var c,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._loading=!0,i={id:null===(c=t._taskSelected)||void 0===c?void 0:c.id,title:"",close:!1,subTasks:[n]},e.next=4,B.TaskEndPoint.createUpdateSubTask(i);case 4:Object(M.h)((function(){var e,c;null===(e=t._taskSelected)||void 0===e||null===(c=e.subTasks)||void 0===c||c.push(n),t._loading=!1}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateSubTask=function(){var e=Object(N.a)(_.a.mark((function e(n,c,i){var a,r,s,o,l,d;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t._loading=!0,(l=null===(a=t._taskSelected)||void 0===a||null===(r=a.subTasks)||void 0===r?void 0:r.find((function(e){return e.id===n})))&&("status"===c?l.status=i:"task"===c?l.task=i:"markDelete"===c?l.markDelete=i:l.status=i),d={id:null===(s=t._taskSelected)||void 0===s?void 0:s.id,title:"",close:!1,subTasks:[]},null===(o=d.subTasks)||void 0===o||o.push(l),e.next=8,B.TaskEndPoint.createUpdateSubTask(d);case 8:Object(M.h)((function(){t._loading=!1})),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n,c){return e.apply(this,arguments)}}(),this.setTask=function(e,n){var c;n?null===(c=t._tasks)||void 0===c||c.push(e):t._taskSelected=e},this.setLoading=function(e){t._loading=e},this._users=[],Object(M.d)(this)}return Object(E.a)(e,[{key:"tasks",get:function(){return this._tasks}},{key:"task",get:function(){return this._taskSelected}},{key:"taskTodo",get:function(){var e,t=this._taskSelected;return t?null===(e=t.subTasks)||void 0===e?void 0:e.filter((function(e){return"Todo"===e.status})):[]}},{key:"taskDoing",get:function(){var e,t=this._taskSelected;return t?null===(e=t.subTasks)||void 0===e?void 0:e.filter((function(e){return"Doing"===e.status})):[]}},{key:"taskDone",get:function(){var e,t=this._taskSelected;return t?null===(e=t.subTasks)||void 0===e?void 0:e.filter((function(e){return"Done"===e.status})):[]}},{key:"loading",get:function(){return this._loading}},{key:"users",get:function(){return this._users}}]),e}(),ne=function e(t){Object(A.a)(this,e),this.id="",this.username="",this.displayName="",this.jobTitle="",this.email="",this.token="",this.password="",this.department="",this.roles=[],this.notifications=[],t&&Object.assign(this,t)},ce=function e(t){Object(A.a)(this,e),this.id="",this.username="",this.displayName="",this.jobTitle="",this.email="",this.token="",this.password="",this.department="",this.roles=[],this.notifications=[],t&&Object.assign(this,t)},ie=function(){function e(){var t=this;Object(A.a)(this,e),this._user=null,this._users=[],this._loading=!1,this.login=function(){var e=Object(N.a)(_.a.mark((function e(n){var c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.UserEndPoint.login(n);case 3:c=e.sent,ae.commonStore.setToken(c.token),t.setUser(c),Object(M.h)((function(){return console.log(c)})),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),e.t0;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),this.logout=function(){ae.commonStore.setToken(null),t.setUser(null)},this.fetchCurrent=Object(N.a)(_.a.mark((function e(){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,B.UserEndPoint.current();case 3:return n=e.sent,t.setUser(n),e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),e.t0;case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),this.registerUserAsync=function(){var e=Object(N.a)(_.a.mark((function e(n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t._loading=!0,e.next=4,B.UserEndPoint.register(n);case 4:e.sent,Object(M.h)((function(){t._loading=!1,Object(F.b)("Succefully registered")})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),this.updateAsync=function(){var e=Object(N.a)(_.a.mark((function e(n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t._loading=!0,e.next=4,B.UserEndPoint.update(n);case 4:e.sent,Object(M.h)((function(){t._loading=!1,Object(F.b)("Succefully updated")})),e.next=10;break;case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),this.updateNotification=function(){var e=Object(N.a)(_.a.mark((function e(n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t._loading=!0,e.next=4,B.UserEndPoint.readNotification({id:n,hasRead:!0,createdAt:void 0,description:"",userId:""});case 4:Object(M.h)((function(){t._loading=!1,Object(F.b)("Succefully updated")})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t._loading=!1;case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),this.fetchUsersAsync=Object(N.a)(_.a.mark((function e(){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._loading=!0,e.next=3,B.UserEndPoint.all();case 3:n=e.sent,Object(M.h)((function(){t._users=[],n.forEach((function(e){t._users.push(new ce(e))})),t._loading=!1}));case 5:case"end":return e.stop()}}),e)}))),this.fetchProfileAsync=Object(N.a)(_.a.mark((function e(){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._loading=!0,e.next=3,B.UserEndPoint.getUserProfile();case 3:return n=e.sent,Object(M.h)((function(){return t._loading=!1})),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),this.fetchAllUserAsync=Object(N.a)(_.a.mark((function e(){var n,c;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,c=[],!(null===(n=t.current)||void 0===n?void 0:n.roles.find((function(e){return"manager"===e})))){e.next=11;break}return e.next=5,B.UserEndPoint.all();case 5:c=e.sent,console.log(c),t._users=[],Object(M.h)((function(){c.forEach((function(e){var n;null===(n=t._users)||void 0===n||n.push(new ce(e))}))})),e.next=12;break;case 11:c=[];case 12:return e.abrupt("return",c);case 15:throw e.prev=15,e.t0=e.catch(0),e.t0;case 18:case"end":return e.stop()}}),e,null,[[0,15]])}))),this.setUser=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t._user=e?new ce(e):null},Object(M.d)(this)}return Object(E.a)(e,[{key:"isLoggedIn",get:function(){return!!ae.commonStore.token}},{key:"current",get:function(){return this._user}},{key:"loading",get:function(){return this._loading}},{key:"users",get:function(){return this._users}}]),e}(),ae={modalStore:new ee,campaignStore:new J,contactStore:new Y,taskStore:new te,activityStore:new H,userStore:new ie,commonStore:new Q,menuStore:new $,channelStore:new q},re=Object(h.createContext)(ae);function se(){return Object(h.useContext)(re)}var oe=Object(b.a)((function(){var e=se(),t=e.userStore,n=e.menuStore,c=Object(s.g)();return Object(h.useEffect)((function(){t.isLoggedIn&&c.push(n.useDefaultAccess())}),[t]),Object(y.jsx)(j.d,{initialValues:{username:"",password:"",error:null},onSubmit:function(e,i){var a=i.setErrors;return t.login(e).then((function(e){return c.push(n.useDefaultAccess())})).catch((function(e){return a({error:e.response.data})}))},children:function(e){var t=e.handleSubmit,n=e.isSubmitting,c=e.errors;return Object(y.jsxs)(j.c,{className:"ui form",onSubmit:t,autoComplete:"off",children:[Object(y.jsx)(f.a,{color:"blue",content:"Campaign Management Login",textAlign:"center"}),Object(y.jsx)(k,{name:"username",placeholder:"Email"}),Object(y.jsx)(k,{name:"password",placeholder:"Password",type:"password"}),Object(y.jsx)(j.a,{name:"error",render:function(){return Object(y.jsx)(x.a,{style:{marginBottom:10},basic:!0,color:"red",content:c.error})}}),Object(y.jsx)(p.a,{loading:n,positive:!0,content:"Login",type:"submit",fluid:!0})]})}})}));function le(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(o.a,{children:Object(y.jsx)("style",{children:"body {background-color: #415989 !important;}"})}),Object(y.jsxs)(l.a,{style:{width:"400px",paddingTop:"150px"},children:[Object(y.jsx)(d.a,{centered:!0,src:"https://cdn.shopify.com/s/files/1/0394/2698/2055/files/NABCO_LOGOwhite_250x.png?v=1590742571",size:"medium"}),Object(y.jsx)(u.a,{style:{width:"100%"},children:Object(y.jsxs)(u.a.Content,{children:[Object(y.jsx)(oe,{}),Object(y.jsx)("p",{style:{padding:"10px;"},children:"ver 2.0"})]})})]})]})}var de=n(114),ue=n(518),je=n(514),be=n(504),he=O.a.createContext(void 0),Oe=function(e){var t=e.children,n=Object(h.useState)(!1),c=Object(v.a)(n,2),i=c[0],a=c[1],r={notified:i,notify:function(){a(!i)}};return Object(y.jsx)(he.Provider,{value:r,children:t})},fe=function(){var e=Object(h.useContext)(he);if(!e)throw new Error("context is undefined");return e};function xe(e){var t=e.inverted,n=e.content,c=fe(),i=c.notify,a=c.notified;return Object(h.useEffect)((function(){a||i()}),[t]),Object(y.jsx)(je.a,{active:!0,inverted:t,children:Object(y.jsx)(be.a,{content:n})})}var pe=n(510);function me(e){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(pe.a,{celled:!0,padded:!0,children:Object(y.jsx)(pe.a.Body,{children:void 0!==e.data&&e.data.length>0?e.data.map((function(t,n){return Object(y.jsxs)(pe.a.Row,{children:[Object(y.jsx)(pe.a.Cell,{width:12,children:Object(y.jsx)(f.a,{as:"h4",content:t.title,subheader:t.description})}),Object(y.jsx)(pe.a.Cell,{children:Object(y.jsx)(x.a,{children:t.status})}),Object(y.jsx)(pe.a.Cell,{width:2,children:Object(y.jsx)(x.a,{children:t.type})}),Object(y.jsxs)(pe.a.Cell,{width:2,children:[Object(y.jsx)(p.a,{size:"mini",icon:"play",color:"green",onClick:function(){return e.clickReplay(t.id)}}),Object(y.jsx)(p.a,{size:"mini",icon:"trash",color:"red",onClick:function(){return e.clickDelete(t.id)}})]})]},n)})):Object(y.jsx)(f.a,{content:"No Data Available",as:"h2"})})})})}var ve=n(511),ge=Object(h.createContext)(void 0),ye=function(e){var t=e.children,n=e.name,c=e.modalSize,i=e.title,a=Ce().action,r=Object(h.useState)(!1),s=Object(v.a)(r,2),o=s[0],l=s[1];return Object(h.useEffect)((function(){a&&("open"===a.action&&a.key===n?l(!0):l(!1))}),[a]),Object(y.jsxs)(ve.a,{open:o,size:null!==c&&void 0!==c?c:"small",children:[Object(y.jsx)(ve.a.Header,{children:i}),Object(y.jsx)(ve.a.Content,{children:t})]},n)},ke=function(e){var t=e.children,n=Object(h.useState)(!1),c=Object(v.a)(n,2),i=c[0],a=(c[1],Object(h.useState)(void 0)),r=Object(v.a)(a,2),s=r[0],o=r[1],l={isOpenModal:i,openModal:function(e){o({action:"open",key:e})},closeModal:function(e){o({action:"close",key:e})},action:s};return Object(y.jsx)(ge.Provider,{value:l,children:t})},Ce=function(){var e=Object(h.useContext)(ge);if(!e)throw new Error("context is undefined");return e},we=(Object(b.a)((function(e){var t;return Object(y.jsxs)(ve.a,{open:e.isOpen,size:null!==(t=e.size)&&void 0!==t?t:"small",children:[Object(y.jsx)(ve.a.Header,{children:e.title}),Object(y.jsx)(ve.a.Content,{children:e.children})]})})),[{title:"SMS Campaign",description:"Send SMS Messages",type:"sms",icon:Object(y.jsx)(de.a,{name:"mobile alternate"})},{title:"Email Campaign",description:"Send Email to Customer",type:"email",icon:Object(y.jsx)(de.a,{name:"envelope outline"})},{title:"RSS Campaign",description:"Send RSS to Website",type:"rss",icon:Object(y.jsx)(de.a,{name:"rss"})},{title:"Website Campaign",description:"Post Campaign to Website",type:"web",icon:Object(y.jsx)(de.a,{name:"globe"})},{title:"Facebook Campaign",description:"Post Campaign to Facebook",type:"social",icon:Object(y.jsx)(de.a,{name:"facebook"})}]),Se=Object(b.a)((function(e){var t=e.notifyOnClick;return Object(y.jsx)(ye,{name:"activityTypes",title:"Activity Types",modalSize:"small",children:Object(y.jsx)(pe.a,{children:Object(y.jsx)(pe.a.Body,{children:we.map((function(e,n){return Object(y.jsxs)(pe.a.Row,{children:[Object(y.jsx)(pe.a.Cell,{width:14,children:Object(y.jsxs)(f.a,{as:"h4",image:!0,children:[e.icon,Object(y.jsxs)(f.a.Content,{children:[e.title,Object(y.jsx)(f.a.Subheader,{children:e.type})]})]})}),Object(y.jsx)(pe.a.Cell,{children:Object(y.jsx)(p.a,{positive:!0,content:"Select",onClick:function(){return t(e.type)}})})]},n)}))})})})})),Te=n(508),_e=[{image:"lena.png",day:"1 day ago",description:"Likes your Post"},{image:"lena.png",day:"2 days ago",description:"Inquire about Recliner Lazboy"},{image:"lena.png",day:"1 day ago",description:"Happy with the service"}];function Ne(){return Object(y.jsxs)(u.a,{children:[Object(y.jsx)(u.a.Content,{children:Object(y.jsx)(u.a.Header,{children:"Recent Activity"})}),Object(y.jsx)(u.a.Content,{children:Object(y.jsx)(Te.a,{children:_e&&_e.map((function(e,t){return Object(y.jsxs)(Te.a.Event,{children:[Object(y.jsx)(Te.a.Label,{image:"/assets/".concat(e.image)}),Object(y.jsxs)(Te.a.Content,{children:[Object(y.jsx)(Te.a.Date,{content:e.day}),Object(y.jsx)(Te.a.Summary,{children:e.description})]})]},t)}))})})]})}var Ae=n(199),Ee=n(517),Me=["children"],Fe=function(e){var t=e.children,n=e.color;return Object(y.jsx)(Ee.a,{color:n,children:Object(y.jsx)("div",{className:"ui grid",children:t})})};Fe.Header=function(e){var t=e.children,n=e.title,c=e.description,i=e.icon,a=e.ownerWidth,r=e.childWidth;return Object(y.jsxs)("div",{className:"row",children:[Object(y.jsx)("div",{className:null!==a&&void 0!==a?a:"fourteen wide column",children:Object(y.jsxs)(f.a,{as:"h2",children:[i&&Object(y.jsx)(de.a,{name:i}),Object(y.jsxs)(f.a.Content,{children:[n,Object(y.jsx)(f.a.Subheader,{children:c})]})]})}),Object(y.jsx)("div",{className:null!==r&&void 0!==r?r:"column",children:t})]})},Fe.Content=function(e){var t=e.children,n=Object(Ae.a)(e,Me);return Object(y.jsx)("div",Object(m.a)(Object(m.a)({className:"row"},n),{},{children:Object(y.jsx)("div",{className:"column",children:t})}))};var De,Pe=Fe,Re=Object(b.a)((function(){var e=Object(s.h)().id,t=se(),n=t.campaignStore,c=n.fetchSingleAsync,i=n.selected,a=n.loading,r=t.activityStore,o=r.replay,l=r.deleteActivity,d=Object(s.g)(),u=Ce(),j=u.openModal,b=u.closeModal;return Object(h.useEffect)((function(){e&&c(e)}),[c,e]),a?Object(y.jsx)(xe,{content:"Loading",inverted:!0}):Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(Pe,{color:"green",children:[Object(y.jsx)(Pe.Header,{title:null===i||void 0===i?void 0:i.title,description:null===i||void 0===i?void 0:i.description,children:Object(y.jsx)(p.a.Group,{children:Object(y.jsxs)(p.a,{color:"green",size:"mini",onClick:function(){return j("activityTypes")},children:[Object(y.jsx)(de.a,{name:"add"}),"Create"]})})}),Object(y.jsxs)(Pe.Content,{children:[Object(y.jsx)(ue.a,{children:Object(y.jsxs)(ue.a.Row,{children:[Object(y.jsx)(ue.a.Column,{width:12,children:Object(y.jsx)(me,{data:null===i||void 0===i?void 0:i.activities,clickReplay:function(e){o(e).then((function(){Object(F.b)("Resend successful")}))},clickDelete:function(e){window.confirm("Are you sure you want to delete this activity?")&&l(e)}})}),Object(y.jsx)(ue.a.Column,{width:4,children:Object(y.jsx)(Ne,{})})]})}),Object(y.jsx)(Se,{notifyOnClick:function(t){b("activityTypes"),d.push("/activity/".concat(e,"/").concat(t))}})]})]})})})),Le=function(e){e.children;var t=e.name,n=e.title,c=e.message,i=e.clickCancelButton,a=e.clickOkButton,r=Ce().closeModal;return Object(y.jsx)(ye,{title:n,name:t,children:Object(y.jsxs)(ue.a,{children:[Object(y.jsx)(ue.a.Row,{children:c}),Object(y.jsxs)(ue.a.Row,{children:[Object(y.jsx)(p.a,{positive:!0,onClick:function(){r(t),a&&a()},children:"Ok"}),Object(y.jsx)(p.a,{negative:!0,onClick:function(){r(t),i&&i()},children:"Cancel"})]})]})})},ze=n(62),Ue=n(502),Ve=function(e){return Object(y.jsxs)(ue.a,{padded:!0,children:[Object(y.jsx)(ue.a.Row,{children:Object(y.jsx)(ue.a.Column,{width:16,children:Object(y.jsx)(Ue.a,{icon:{name:"search",circular:!0,link:!0},placeholder:"Search...",fluid:!0,onChange:function(t){return e.onInputChange&&e.onInputChange(t.target.value,e.columns)}})})}),Object(y.jsx)(ue.a.Row,{children:Object(y.jsxs)(pe.a,{children:[Object(y.jsx)(pe.a.Header,{children:Object(y.jsx)(pe.a.Row,{children:e.columns&&e.columns.map((function(e,t){return Object(y.jsx)(pe.a.HeaderCell,{width:e.width,textAlign:e.textAlign,children:e.Text},t)}))})}),Object(y.jsx)(pe.a.Body,{children:e.initialValues&&e.initialValues.map((function(t,n){return e.children(t,n)}))})]})})]})},Ie=n(286),Be=n.n(Ie);function He(e){return Be()(e).format("MMM/DD/yyyy")}function Ge(e){for(var t=e.toLowerCase().split(" "),n=0;n<t.length;n++)t[n]=t[n][0].toUpperCase()+t[n].slice(1);return t.join(" ")}!function(e){e[e.OkOnly=1]="OkOnly",e[e.OkSave=2]="OkSave"}(De||(De={}));var We=Object(b.a)((function(e){var t=e.viewClick,n=e.deleteClick,c=e.editClick,i=se().campaignStore.collection,a=(Object(s.g)(),Ce().openModal,Object(h.useState)(null===i||void 0===i?void 0:i.campaigns)),r=Object(v.a)(a,2),o=(r[0],r[1]);return Object(y.jsx)(h.Fragment,{children:Object(y.jsx)(h.Fragment,{children:Object(y.jsx)(Ve,{initialValues:null===i||void 0===i?void 0:i.campaigns,onInputChange:function(e,t){return function(e,t){var n=null===i||void 0===i?void 0:i.campaigns.filter((function(t){return-1!==t.title.toString().indexOf(e)}));o(Object(ze.a)(n))}(e)},columns:[{Text:"Title",width:2,key:"title"},{Text:"Description",width:5,key:"description"},{Text:"Period Date",width:3,key:"periodDate",textAlign:"center"},{Text:"Action",width:2,key:"action",textAlign:"center"}],children:function(e,i){return Object(y.jsxs)(pe.a.Row,{children:[Object(y.jsx)(pe.a.Cell,{width:2,children:e.title}),Object(y.jsx)(pe.a.Cell,{width:5,children:e.description}),Object(y.jsx)(pe.a.Cell,{width:3,textAlign:"center",children:"".concat(He(e.dateFrom)," - ").concat(He(e.dateTo))}),Object(y.jsx)(pe.a.Cell,{width:2,textAlign:"center",children:Object(y.jsxs)(p.a.Group,{size:"mini",children:[Object(y.jsx)(p.a,{icon:"eye",color:"orange",onClick:function(){return t(e.id)}}),Object(y.jsx)(p.a,{icon:"pencil",color:"blue",onClick:function(){return c(e.id)}}),Object(y.jsx)(p.a,{icon:"trash",color:"red",onClick:function(){return n(e.id)}})]})})]},e.id)}})})})})),Ke=n(287),Je=n.n(Ke);function qe(e){var t=Object(j.e)(e.name),n=Object(v.a)(t,3),c=n[0],i=n[1],a=n[2];return Object(y.jsxs)(g.a.Field,{children:[Object(y.jsx)(Je.a,Object(m.a)(Object(m.a)(Object(m.a)({},c),e),{},{selected:c.value&&new Date(c.value)||null,onChange:function(e){return a.setValue(e)}})),i.touched&&i.error?Object(y.jsx)(x.a,{basic:!0,color:"red",children:i.error}):null]})}var Qe,Xe,Ye=Object(b.a)((function(e){var t=e.handleChanged,n=e.handleCancel,c=e.campaignSingle,i=se().campaignStore,a=(Ce().closeModal,Object(h.useState)(c)),r=Object(v.a)(a,2),s=r[0],o=r[1];Object(h.useEffect)((function(){o(c)}),[c]);return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(ye,{name:"campaignEntry",title:"Campaign Entry",modalSize:"large",children:Object(y.jsx)(j.d,{initialValues:s,onSubmit:function(e){var n;n=e,i.saveAsync(n).then((function(e){t(e?e.id:"")}))},children:function(e){var t=e.dirty;return Object(y.jsxs)(j.c,{className:"ui form",children:[Object(y.jsxs)(ue.a,{children:[Object(y.jsx)(ue.a.Row,{children:Object(y.jsx)(ue.a.Column,{width:14,children:Object(y.jsx)(k,{name:"title",label:"Title"})})}),Object(y.jsx)(ue.a.Row,{children:Object(y.jsx)(ue.a.Column,{width:14,children:Object(y.jsx)(S,{name:"description",label:"Description"})})})]}),Object(y.jsxs)("div",{className:"two fields",style:{marginTop:"10px"},children:[Object(y.jsx)(qe,{placeholderText:"Date From",name:"dateFrom",dateFormat:"MMMM d, yyyy "}),Object(y.jsx)(qe,{placeholderText:"Date To",name:"dateTo",dateFormat:"MMMM d, yyyy "})]}),Object(y.jsxs)("div",{className:"right",children:[Object(y.jsx)(p.a,{positive:!0,disabled:!t,type:"submit",children:"Save"}),Object(y.jsx)(p.a,{negative:!0,type:"submit",onClick:n,children:"Cancel"})]})]})}})})})})),Ze=n(40),$e=n(41),et=$e.a.div(Qe||(Qe=Object(Ze.a)(["\n    display:flex;\n    font-size: 24px;\n    padding: 0;\n    color: #303376;\n    \n"]))),tt=$e.a.div(Xe||(Xe=Object(Ze.a)(["\n    display:flex;\n    justify-content:center;\n    font-size: 44px;\n    padding: 25px 0;\n    color:#4f8f76\n    \n"])));function nt(){var e=se().campaignStore.collection;return Object(y.jsx)(h.Fragment,{children:Object(y.jsxs)(ue.a,{columns:4,children:[Object(y.jsx)(ue.a.Column,{children:Object(y.jsx)(u.a,{children:Object(y.jsxs)(u.a.Content,{children:[Object(y.jsxs)(et,{children:[Object(y.jsx)(de.a,{name:"bullhorn"})," SMS Activities"]}),Object(y.jsx)(tt,{children:null===e||void 0===e?void 0:e.totalSMSActivities})]})})}),Object(y.jsx)(ue.a.Column,{children:Object(y.jsx)(u.a,{children:Object(y.jsxs)(u.a.Content,{children:[Object(y.jsxs)(et,{children:[Object(y.jsx)(de.a,{name:"mail"}),"Email Activities"]}),Object(y.jsx)(tt,{children:null===e||void 0===e?void 0:e.totalEmailActivities})]})})}),Object(y.jsx)(ue.a.Column,{children:Object(y.jsx)(u.a,{children:Object(y.jsxs)(u.a.Content,{children:[Object(y.jsxs)(et,{children:[Object(y.jsx)(de.a,{name:"facebook"})," Social Post"]}),Object(y.jsx)(tt,{children:null===e||void 0===e?void 0:e.totalSocialPost})]})})}),Object(y.jsx)(ue.a.Column,{children:Object(y.jsx)(u.a,{children:Object(y.jsxs)(u.a.Content,{children:[Object(y.jsxs)(et,{children:[Object(y.jsx)(de.a,{name:"chrome"})," Ecommerce Activities"]}),Object(y.jsx)(tt,{children:null===e||void 0===e?void 0:e.totalEcommerce})]})})})]})})}var ct=Object(b.a)((function(){var e=se().campaignStore,t=e.loadAsync,n=e.loading,c=e.deleteAsync,i=e.fetchSingleAsync,a=Object(s.g)(),r=Ce(),o=r.openModal,l=r.closeModal,d=Object(h.useState)(""),u=Object(v.a)(d,2),j=u[0],b=u[1],O=Object(h.useState)(new K),f=Object(v.a)(O,2),x=f[0],m=f[1];Object(h.useEffect)((function(){t()}),[]);return n?Object(y.jsx)(xe,{content:"Loading",inverted:!0}):Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(Pe,{color:"red",children:[Object(y.jsx)(Pe.Header,{title:"Campaign",description:"Manage your campaign",icon:"bullhorn",children:Object(y.jsx)(p.a.Group,{children:Object(y.jsxs)(p.a,{color:"green",size:"mini",onClick:function(){o("campaignEntry")},children:[Object(y.jsx)(de.a,{name:"add"}),"Create"]})})}),Object(y.jsxs)(Pe.Content,{children:[Object(y.jsx)(nt,{}),Object(y.jsx)(We,{viewClick:function(e){a.push("/activity/".concat(e))},deleteClick:function(e){b(e),o("deleteDlg")},editClick:function(e){i(e).then((function(e){m(e),o("campaignEntry")}))}}),Object(y.jsx)(Ye,{campaignSingle:x,handleChanged:function(e){l("campaignEntry"),""!==e?a.push("/activity/".concat(e,"/create")):t(),m(new K)},handleCancel:function(){l("campaignEntry")}}),Object(y.jsx)(Le,{name:"deleteDlg",title:"Delete Confirmation",message:"Do you want to Delete the campaign?",clickOkButton:function(){return c(j)}})]})]})})})),it=n(509),at=Object(b.a)((function(e){var t=e.contacts,n=e.onEditClick,c=e.onRemoveClick,i=Object(h.useState)(t),a=Object(v.a)(i,2),r=a[0],s=a[1];return Object(y.jsx)(h.Fragment,{children:Object(y.jsx)(Ve,{initialValues:r,onInputChange:function(e,n){return function(e,n){var c=t.filter((function(t){return-1!==t.fullName.toString().indexOf(e)}));s(Object(ze.a)(c))}(e)},columns:[{Text:"Full Name",width:11,key:"fullName"},{Text:"Location",width:3,key:"location"},{Text:"Group",width:2,key:"groupTag"},{Text:"Action",width:1,key:"action"}],children:function(e,t){return Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(pe.a.Row,{children:[Object(y.jsxs)(pe.a.Cell,{children:[Object(y.jsxs)(f.a,{as:"h4",image:!0,children:[Object(y.jsx)(d.a,{src:"/assets/lena.png",rounded:!0,size:"mini"}),Object(y.jsx)(f.a.Content,{children:Object(y.jsx)(f.a.Subheader,{children:"".concat(Ge(e.title)," ").concat(e.fullName)})})]}),Object(y.jsx)(it.a,{children:Object(y.jsxs)(it.a.Content,{children:[Object(y.jsx)("strong",{children:"Email:"}),Object(y.jsxs)("span",{children:[" ",e.emailAddress]}),Object(y.jsx)("br",{}),Object(y.jsxs)("span",{children:["Contact Number: ",e.primaryContact]})]})})]}),Object(y.jsx)(pe.a.Cell,{children:e.location}),Object(y.jsx)(pe.a.Cell,{children:Object(y.jsx)(x.a,{children:e.groupTag})}),Object(y.jsx)(pe.a.Cell,{children:Object(y.jsxs)(p.a.Group,{size:"mini",children:[Object(y.jsx)(p.a,{icon:"pencil",color:"purple",onClick:function(){return n&&n(e.id)}}),Object(y.jsx)(p.a,{icon:"trash",color:"red",onClick:function(){return c&&c(e.id)}})]})})]},e.id)})}})})})),rt=Object(b.a)((function(e){var t=e.onSuccess,n=Ce().closeModal,c=Object(h.useState)({file:void 0}),i=Object(v.a)(c,2),a=i[0],r=(i[1],se().contactStore.fileUpload);return Object(y.jsx)(ye,{name:"contactUpload",title:"Contact CSV Upload",children:Object(y.jsx)(j.d,{initialValues:a,onSubmit:function(e){var n;(n=e.file)&&r(n).then((function(){console.log("hellow"),t()}))},children:function(e){var t=e.handleSubmit,c=e.setFieldValue,i=e.dirty;return Object(y.jsxs)(g.a,{onSubmit:t,children:[Object(y.jsx)(g.a.Field,{children:Object(y.jsx)("input",{type:"file",name:"file",onChange:function(e){c("file",e.currentTarget.files&&e.currentTarget.files[0]),i=!0}})}),Object(y.jsxs)("div",{className:"right",children:[Object(y.jsx)(p.a,{positive:!0,disabled:!i,type:"submit",children:"Upload"}),Object(y.jsx)(p.a,{negative:!0,onClick:function(){return n("contactUpload")},children:"Cancel"})]})]})}})})})),st=Object(b.a)((function(){var e=se(),t=e.contactStore,n=e.userStore,c=Object(s.g)(),i=Ce(),a=i.openModal,r=i.closeModal,o=t.fetchContactsAsync,l=t.getLoading,d=t.getContacts;Object(h.useEffect)((function(){o().then((function(){var e;console.log(null===(e=n.current)||void 0===e?void 0:e.roles[0])}))}),[o]);var u=function(e){return e?c.push("/contact/".concat(e)):c.push("/contact-create")};return l?Object(y.jsx)(xe,{content:"Loading",inverted:!0}):Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(Pe,{color:"yellow",children:[Object(y.jsx)(Pe.Header,{title:"Contact",description:"Manage your customer contacts",icon:"user outline",children:Object(y.jsxs)(p.a.Group,{size:"mini",children:[Object(y.jsxs)(p.a,{color:"green",size:"mini",onClick:function(){return u()},children:[Object(y.jsx)(de.a,{name:"add"}),"Add"]}),Object(y.jsx)(p.a,{color:"blue",size:"mini",onClick:function(){return a("contactUpload")},children:"Import"})]})}),Object(y.jsxs)(Pe.Content,{children:[Object(y.jsx)(ue.a,{children:Object(y.jsx)(ue.a.Row,{children:Object(y.jsx)(ue.a.Column,{children:Object(y.jsx)(at,{contacts:d,onEditClick:function(e){return u(e)}})})})}),Object(y.jsx)(rt,{onSuccess:function(){o(),r("contactUpload")}})]})]})})})),ot=[{key:1,value:"mr",text:"Mr."},{key:2,value:"ms",text:"Miss"},{key:3,value:"mrs",text:"Mrs."}],lt=[{key:1,value:"male",text:"Male"},{key:2,value:"female",text:"Female"}];function dt(){var e=Object(s.h)().id,t=Object(s.g)(),n=Object(h.useState)(new X),c=Object(v.a)(n,2),i=c[0],a=c[1],r=se().contactStore,o=r.findContactAsync,l=r.getLoading,d=r.saveContactAsync;function u(){t.push("/contact")}return Object(h.useEffect)((function(){e&&o(e).then((function(e){return a(new X(e))}))}),[e,o]),l?Object(y.jsx)(xe,{content:"Loading",inverted:!0}):Object(y.jsxs)(Ee.a,{color:"yellow",children:[Object(y.jsx)(ue.a,{style:{padding:"5px 0"},children:Object(y.jsx)(ue.a.Column,{width:14,children:Object(y.jsxs)(f.a,{as:"h2",children:[Object(y.jsx)(de.a,{name:"user outline"}),Object(y.jsxs)(f.a.Content,{children:["Customer Contact Form - ",i.firstName,Object(y.jsx)(f.a.Subheader,{children:"Enter Contact"})]})]})})}),Object(y.jsx)(ue.a,{children:Object(y.jsx)(ue.a.Row,{children:Object(y.jsx)(ue.a.Column,{children:Object(y.jsx)(j.d,{initialValues:i,enableReinitialize:!0,onSubmit:function(e){return function(e){d(e).then((function(){return t.push("/contact")}))}(e)},children:function(e){e.handleSubmit,e.isValid;var t=e.dirty;return Object(y.jsxs)(j.c,{className:"ui form",children:[Object(y.jsx)("div",{className:"two fields",children:Object(y.jsx)(w,{name:"title",label:"Title",options:ot})}),Object(y.jsxs)("div",{className:"three fields",children:[Object(y.jsx)(k,{name:"firstName",label:"First Name"}),Object(y.jsx)(k,{name:"middleName",label:"Middle Name"}),Object(y.jsx)(k,{name:"lastName",label:"Last Name"})]}),Object(y.jsxs)("div",{className:"three fields",children:[Object(y.jsx)(w,{name:"gender",label:"Gender",options:lt,placeholder:"Select Gender"}),Object(y.jsx)(k,{name:"groupTag",label:"Group Tag"})]}),Object(y.jsxs)("div",{className:"three fields",children:[Object(y.jsx)(k,{name:"mobileNo",label:"Mobile No *"}),Object(y.jsx)(k,{name:"primaryContact",label:"Primary Contact *"}),Object(y.jsx)(k,{name:"emailAddress",label:"Email Address *"})]}),Object(y.jsx)("div",{className:"three fields",children:Object(y.jsx)(k,{name:"location",label:"Location "})}),Object(y.jsxs)("div",{className:"left",children:[Object(y.jsx)(p.a,{positive:!0,disabled:!t,type:"subimt",children:"Save"}),Object(y.jsx)(p.a,{negative:!0,onClick:u,children:"Close"})]})]})}})})})})]})}function ut(){return Object(y.jsxs)(Ee.a,{placeholder:!0,children:[Object(y.jsxs)(f.a,{icon:!0,children:[Object(y.jsx)(de.a,{name:"search"}),"Oops - we've looked for everywhere and couldn't find"]}),Object(y.jsx)(Ee.a.Inline,{children:Object(y.jsx)(p.a,{as:r.b,to:"/campaign",primary:!0,children:"Redirect to Campaign"})})]})}var jt=function e(t){Object(A.a)(this,e),this.id="",this.title="",this.description="",this.type="",this.baseUrl="",this.apiKey="",this.apiSecretKey="",this.header="",this.host="",this.port=0,this.userName="",this.password="",this.phoneNo="",t&&Object.assign(this,t)};function bt(e){var t=e.channel,n=e.onChanges,c=se().channelStore.saveAsync,i=Ce().closeModal;return Object(y.jsx)(ye,{title:"Channel Setting",name:"settingModal",modalSize:"large",children:Object(y.jsx)(j.d,{initialValues:t,onSubmit:function(e){return function(e){c(e).then((function(){n&&n()}))}(e)},children:function(e){var t=e.dirty;return Object(y.jsxs)(j.c,{className:"ui equal width form",children:[Object(y.jsx)(k,{name:"title",type:"text",label:"Title",holderClassName:"sixteen wide field"}),Object(y.jsx)(k,{name:"description",type:"text",label:"Description",holderClassName:"sixteen wide field"}),Object(y.jsxs)("div",{className:"inline fields",children:[Object(y.jsx)(k,{name:"type",label:"Type",holderClassName:"four wide field"}),Object(y.jsx)(k,{name:"baseUrl",label:"URL",holderClassName:"nine wide field"})]}),Object(y.jsxs)("div",{className:"inline  fields",children:[Object(y.jsx)(k,{name:"apiKey",type:"text",label:"Key",holderClassName:"eight wide field"}),Object(y.jsx)(k,{name:"apiSecretKey",type:"text",label:"Secret",holderClassName:"eight wide field"})]}),Object(y.jsx)(k,{name:"header",type:"text",label:"Header"}),Object(y.jsxs)("div",{className:"fields",children:[Object(y.jsx)(k,{name:"host",label:"Host",holderClassName:"six wide field"}),Object(y.jsx)(k,{name:"port",label:"Port",holderClassName:"three wide field"}),Object(y.jsx)(k,{name:"phoneNo",label:"Phone No",holderClassName:"seven wide field"})]}),Object(y.jsxs)("div",{className:"inline fields",children:[Object(y.jsx)(k,{name:"userName",label:"User Name",holderClassName:"eight wide field"}),Object(y.jsx)(k,{name:"password",label:"Password",type:"password",holderClassName:"eight wide field"})]}),Object(y.jsxs)("div",{children:[Object(y.jsx)(p.a,{positive:!0,disabled:!t,type:"submit",children:"Save"}),Object(y.jsx)(p.a,{negative:!0,type:"button",onClick:function(){return i("settingModal")},children:"Cancel"})]})]})}})})}var ht,Ot,ft,xt,pt,mt,vt,gt,yt,kt,Ct,wt=Object(b.a)((function(){var e=se().channelStore,t=e.fetchAllAsync,n=e.channels,c=e.loading,i=Ce(),a=i.openModal,r=i.closeModal,s=Object(h.useState)(new jt),o=Object(v.a)(s,2),l=o[0],d=o[1];Object(h.useEffect)((function(){t()}),[t]);var j=Object(h.useCallback)((function(){t(),r("settingModal")}),[l]);return c?Object(y.jsx)(xe,{content:"Loading",inverted:!0}):Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(Pe,{color:"teal",children:[Object(y.jsx)(Pe.Header,{title:"Settings",description:"Manage Channel Settings",icon:"cog",children:Object(y.jsx)(p.a.Group,{size:"mini",children:Object(y.jsxs)(p.a,{color:"green",onClick:function(){return d(new jt),void a("settingModal")},children:[Object(y.jsx)(de.a,{name:"add"})," Add"]})})}),Object(y.jsxs)(Pe.Content,{children:[Object(y.jsx)(u.a.Group,{children:n&&n.map((function(e){return Object(y.jsxs)(u.a,{children:[Object(y.jsxs)(u.a.Content,{children:[Object(y.jsx)(u.a.Header,{children:e.title}),Object(y.jsxs)(u.a.Meta,{children:["Type: ",e.type]}),Object(y.jsx)(u.a.Description,{style:{padding:"10px 0"},children:e.description})]}),Object(y.jsxs)("div",{className:"ui bottom attached button",onClick:function(){return function(e){d(e),a("settingModal")}(e)},children:[Object(y.jsx)(de.a,{name:"pencil"})," Edit"]})]})}))}),Object(y.jsx)(bt,{channel:l,onChanges:j})]})]})})})),St=Object(b.a)((function(e){var t=e.onEdit,n=se().taskStore.tasks,c=Object(h.useState)(n),i=Object(v.a)(c,2),a=i[0],r=i[1];return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Ve,{initialValues:a,onInputChange:function(e,t){return function(e,t){console.log(e);var c=n.filter((function(t){return-1!==t.title.toString().indexOf(e)}));r(Object(ze.a)(c))}(e)},columns:[{Text:"Title",width:11,key:"title"},{Text:"Assigned To",width:3,key:"subTask"},{Text:"Total Task",width:2,key:"totalSubTaskCount"},{Text:"Status",width:1,key:"close"},{Text:"Action",width:1,key:"action"}],children:function(e,n){return Object(y.jsxs)(pe.a.Row,{children:[Object(y.jsx)(pe.a.Cell,{children:e.title}),Object(y.jsx)(pe.a.Cell,{children:e.subTasks&&e.users.map((function(e,t){return Object(y.jsxs)(x.a,{image:!0,size:"small",children:[Object(y.jsx)(d.a,{src:"assets/lena.png"}),e,Object(y.jsx)(de.a,{name:"delete"})]},t)}))}),Object(y.jsx)(pe.a.Cell,{children:e.totalSubTaskCount}),Object(y.jsx)(pe.a.Cell,{children:Object(y.jsx)(x.a,{color:"red",size:"small",children:e.close?"close":"open"})}),Object(y.jsx)(pe.a.Cell,{children:Object(y.jsxs)(p.a.Group,{children:[Object(y.jsx)(p.a,{icon:"edit outline",color:"green",onClick:function(){return t(e.id)}}),Object(y.jsx)(p.a,{icon:"archive",color:"blue"})]})})]},n)}})})})),Tt=Object(b.a)((function(e){var t=e.onChanged,n=Ce().closeModal,c=se().taskStore.createTaskAsync,i=Object(h.useState)({title:"",close:!1}),a=Object(v.a)(i,2),r=a[0];a[1];return Object(y.jsx)(ye,{name:"taskForm",title:"Task Entry",modalSize:"small",children:Object(y.jsx)(j.d,{initialValues:r,onSubmit:function(e){return c(e).then((function(){return t()}))},children:Object(y.jsxs)(j.c,{className:"ui form",children:[Object(y.jsx)("div",{className:"one field",children:Object(y.jsx)(k,{name:"title",label:"Title"})}),Object(y.jsx)("div",{}),Object(y.jsxs)("div",{className:"right",children:[Object(y.jsx)(p.a,{positive:!0,content:"Save",type:"submit"}),Object(y.jsx)(p.a,{negative:!0,content:"Cancel",type:"button",onClick:function(){return n("taskForm")}})]})]})})})})),_t=Object(b.a)((function(){var e=se(),t=e.taskStore,n=t.fetchAllAsync,c=t.loading,i=e.userStore.current,a=Ce(),r=a.openModal,o=a.closeModal,l=Object(s.g)();Object(h.useEffect)((function(){n()}),[n]);var d=i&&i.roles.indexOf("manager");return c?Object(y.jsx)(xe,{content:"loading",inverted:!0}):Object(y.jsxs)(Pe,{color:"purple",children:[Object(y.jsx)(Pe.Header,{title:"Task",description:"Manage your tasks",icon:"calendar outline",children:!d&&Object(y.jsx)(p.a.Group,{size:"small",children:Object(y.jsxs)(p.a,{color:"green",type:"button",onClick:function(){return r("taskForm")},children:[Object(y.jsx)(de.a,{name:"add"}),"Add"]})})}),Object(y.jsxs)(Pe.Content,{children:[Object(y.jsx)(ue.a,{children:Object(y.jsx)(ue.a.Row,{children:Object(y.jsx)(ue.a.Column,{children:Object(y.jsx)(St,{onEdit:function(e){return function(e){return l.push("/task/".concat(e))}(e)}})})})}),Object(y.jsx)(Tt,{onChanged:function(){o("taskForm"),n()}})]})]})})),Nt=$e.a.div(ht||(ht=Object(Ze.a)(["\n    color: #333;\n   \n    border: 1px solid #ccc;\n    background: #fafafa;\n    border-radius: 3px;\n    position: relative;\n    padding: 0 10px;\n    margin: 5px 0;\n    &::after {\n        content: '';\n        display: block;\n        position: absolute;\n        width: 100%;\n        height: 5px;\n        background-color: ",";\n        top: 0;\n        left: 0;\n        border-radius: 3px;\n    }\n    \n"])),(function(e){return e.color})),At=$e.a.div(Ot||(Ot=Object(Ze.a)(["\n    padding: 20px 10px;\n    color: gray;\n    postion:relative;\n    min-height: 120px; \n    \n"]))),Et=$e.a.div(ft||(ft=Object(Ze.a)(["\n    border-top: 1px solid #ccc;\n    \n    padding: 10px 5px;\n    display: flex;\n    justify-content: space-between;\n"]))),Mt=function(e){var t=e.color,n=e.content,c=e.assignedTo,i=(e.assignedBy,e.noteId),a=(e.isDeleteActionEnabled,e.isReassignActionEnabled),r=e.reAssignCallback,s=e.deleteCallback;return Object(y.jsxs)(Nt,{color:t,draggable:!0,onDragStart:function(e){return function(e,t){e.dataTransfer.setData("data",t)}(e,i)},children:[Object(y.jsx)(At,{children:Object(y.jsx)("p",{children:n})}),Object(y.jsxs)(Et,{children:[Object(y.jsxs)(x.a,{children:[Object(y.jsx)(de.a,{name:"user outline"}),"Assigned To: ",c]}),Object(y.jsxs)(p.a.Group,{size:"mini",children:[a&&Object(y.jsx)(p.a,{basic:!0,size:"mini",positive:!0,onClick:function(){return r&&r()},children:"Edit"}),a&&Object(y.jsx)(p.a,{basic:!0,size:"mini",positive:!0,onClick:function(){return s&&s()},children:"Delete"})]})]})]})},Ft=Object(b.a)((function(e){var t=function(e,t){var n=se().taskStore.task;return n?n.subTasks&&n.subTasks.length>0?n.subTasks.filter((function(t){return t.status.toLowerCase()===e.toLowerCase()})):void 0:[]}(e.tag,e.assignedTo),n=O.a.useRef(null);return Object(y.jsx)("div",{ref:n,onDragOver:function(e){e.preventDefault()},onDrop:function(t){t.preventDefault();var n=t.dataTransfer.getData("data");e.onItemDrop(n,e.tag)},children:Object(y.jsxs)(u.a,{fluid:!0,color:e.panelColor,children:[Object(y.jsx)(u.a.Content,{children:Object(y.jsx)(u.a.Header,{children:Object(y.jsx)(f.a,{content:e.title,color:e.panelColor,floated:"left"})})}),Object(y.jsx)(u.a.Content,{style:{minHeight:"570px"},children:t&&t.map((function(t,n){return e.children(t,n,e.panelColor)}))})]})})})),Dt=Object(b.a)((function(e){var t=Ce().closeModal,n=se(),c=n.userStore,i=c.fetchAllUserAsync,a=c.current,r=n.taskStore,s=Object(h.useState)([]),o=Object(v.a)(s,2),l=o[0],d=o[1];Object(h.useEffect)((function(){(null===a||void 0===a?void 0:a.roles.find((function(e){return"manager"==e})))&&i().then((function(e){e&&0===l.length&&e.forEach((function(e){return d((function(t){return[].concat(Object(ze.a)(t),[{key:e.username,value:e.username,text:e.username}])}))}))}))}),[i,e.subTask,a]);return Object(y.jsx)(ye,{name:"addTaskForm",title:"Add Task Detail",children:Object(y.jsx)(j.d,{initialValues:e.subTask,onSubmit:function(n){return c=n,void r.addSubTask(c).then((function(){t("addTaskForm"),e.onChange()}));var c},children:function(e){var n=e.dirty;return Object(y.jsxs)(j.c,{className:"ui form",children:[Object(y.jsx)("div",{className:"one field",children:Object(y.jsx)(S,{name:"task",label:"Task",rows:12})}),Object(y.jsx)("div",{children:l.length>0&&Object(y.jsx)(w,{name:"assignedTo",options:l,label:"Assigned To"})}),Object(y.jsxs)("div",{className:"right",children:[Object(y.jsx)(p.a,{positive:!0,disabled:!n,content:"Save",type:"submit"}),Object(y.jsx)(p.a,{negative:!0,content:"Cancel",type:"button",onClick:function(){return t("taskForm")}})]})]})}})})})),Pt=Object(b.a)((function(){var e=se(),t=e.userStore,n=e.taskStore,c=n.fetchTaskAsync,i=n.task,a=n.loading,r=n.updateSubTask,o=Object(h.useState)(void 0),l=Object(v.a)(o,2),d=l[0],u=(l[1],Object(s.h)().id),j=Ce().openModal,b=Object(h.useState)({id:"",task:"",assignedTo:"",assignedBy:"",status:"",markDelete:!1}),O=Object(v.a)(b,2),f=O[0],x=O[1],m=t.current;Object(h.useEffect)((function(){c(u,d)}),[c,d]);var g=function(e,t){r(e,"status",t).then((function(){return w()}))},k=function(e,t){r(e,"markDelete",t).then((function(){return w()}))},C=function(e){x(e),j("addTaskForm")},w=function(){c(u,d)};return a?Object(y.jsx)(xe,{content:"loading",inverted:!0}):Object(y.jsxs)(y.Fragment,{children:[Object(y.jsxs)(Pe,{color:"purple",children:[Object(y.jsx)(Pe.Header,{title:null===i||void 0===i?void 0:i.title,description:"",children:Object(y.jsx)(p.a,{positive:!0,size:"small",content:"Add",onClick:function(){return j("addTaskForm")}})}),Object(y.jsx)(Pe.Content,{children:Object(y.jsx)(ue.a,{children:Object(y.jsxs)(ue.a.Row,{columns:3,children:[Object(y.jsx)(ue.a.Column,{children:Object(y.jsx)(Ft,{title:"TODO Task",tag:"Todo",assignedTo:d,panelColor:"red",showButton:!0,onItemDrop:g,children:function(e,t,n){return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(Mt,{draggable:!0,noteId:e.id,assignedTo:e.assignedTo,assignedBy:e.assignedBy,color:n,content:e.task,reAssignCallback:function(){return C(e)},deleteCallback:function(){return k(e.id,!0)},isReassignActionEnabled:"manager"===(null===m||void 0===m?void 0:m.roles[0])||(null===m||void 0===m?void 0:m.username)===e.assignedBy},t)})}})}),Object(y.jsx)(ue.a.Column,{children:Object(y.jsx)(Ft,{title:"Doing Task",tag:"Doing",assignedTo:d,panelColor:"orange",showButton:!0,onItemDrop:g,children:function(e,t,n){return Object(y.jsx)(Mt,{noteId:e.id,assignedTo:e.assignedTo,assignedBy:e.assignedBy,color:n,content:e.task,reAssignCallback:function(){return C(e)},deleteCallback:function(){return k(e.id,!0)},isReassignActionEnabled:"manager"===(null===m||void 0===m?void 0:m.roles[0])||(null===m||void 0===m?void 0:m.username)===e.assignedBy},t)}})}),Object(y.jsx)(ue.a.Column,{children:Object(y.jsx)(Ft,{title:"Done Task",tag:"Done",assignedTo:d,panelColor:"green",showButton:!0,onItemDrop:g,children:function(e,t,n){return Object(y.jsx)(Mt,{noteId:e.id,assignedTo:e.assignedTo,assignedBy:e.assignedBy,color:n,content:e.task,reAssignCallback:function(){return C(e)},deleteCallback:function(){return k(e.id,!0)},isReassignActionEnabled:"manager"===(null===m||void 0===m?void 0:m.roles[0])||(null===m||void 0===m?void 0:m.username)===e.assignedBy},t)}})})]})})})]}),Object(y.jsx)(Dt,{onChange:w,subTask:f})]})})),Rt=[{text:"Admin",value:"admin"},{text:"Manager",value:"manager"},{text:"Staff",value:"staff"},{text:"Sales",value:"sales"}],Lt=function(e){e.onCancel;var t=e.onChange,n=e.userData,c=se().userStore,i=c.registerUserAsync,a=(c.updateAsync,Ce().closeModal);return Object(y.jsx)(ye,{name:"userFormModal",title:"User Registration",children:Object(y.jsx)(j.d,{initialValues:{id:void 0===n?"":n.id,email:void 0===n?"":n.email,username:void 0===n?"":n.username,password:void 0===n?"":n.password,displayName:void 0===n?"":n.displayName,jobTitle:void 0===n?"":n.jobTitle,department:void 0===n?"":n.department,role:void 0===n?"":n.roles[0]},onSubmit:function(e){!function(e){i(e).then((function(){t()}))}(e)},children:function(e){var t=e.dirty;return Object(y.jsxs)(j.c,{className:"ui form",children:[Object(y.jsx)(k,{name:"username",label:"User Name"}),Object(y.jsx)(k,{name:"displayName",label:"Display Name"}),Object(y.jsx)(k,{name:"email",label:"Email"}),Object(y.jsx)(k,{name:"jobTitle",label:"Job Title"}),Object(y.jsx)(k,{name:"department",label:"Department"}),Object(y.jsx)(k,{name:"password",label:"Password",type:"password",placeholder:"Enter Password"}),Object(y.jsx)(w,{options:Rt,name:"role",label:"Role"}),Object(y.jsxs)("div",{className:"right",children:[Object(y.jsx)(p.a,{positive:!0,disabled:!t,type:"submit",children:"Save"}),Object(y.jsx)(p.a,{negative:!0,type:"submit",onClick:function(){return a("userFormModal")},children:"Cancel"})]})]})}})})},zt=Object(b.a)((function(e){var t=e.data,n=e.onEdit,c=e.onRemove,i=Object(h.useState)(t),a=Object(v.a)(i,2),r=a[0],s=a[1];return Object(y.jsx)(Ve,{initialValues:r,onInputChange:function(e,n){return function(e,n){var c=t.filter((function(t){return-1!==t.displayName.toString().indexOf(e)}));s(Object(ze.a)(c))}(e)},columns:[{Text:"Name",width:11,key:"displayName"},{Text:"Job Title",width:5,key:"jobTitle"},{Text:"Department",width:5,key:"department"},{Text:"Role",width:8,key:"roles"}],children:function(e,t){return Object(y.jsxs)(pe.a.Row,{children:[Object(y.jsx)(pe.a.Cell,{children:e.displayName}),Object(y.jsxs)(pe.a.Cell,{children:[e.jobTitle," "]}),Object(y.jsxs)(pe.a.Cell,{children:[e.department," "]}),Object(y.jsx)(pe.a.Cell,{children:e.roles.map((function(e,t){return Object(y.jsx)(x.a,{children:e},t)}))}),Object(y.jsx)(pe.a.Cell,{children:Object(y.jsxs)(p.a.Group,{size:"mini",children:[Object(y.jsx)(p.a,{icon:"pencil",color:"purple",onClick:function(){return n&&n(e)}}),Object(y.jsx)(p.a,{icon:"trash",color:"red",onClick:function(){return c&&c(e)}})]})})]},t)}})})),Ut=Object(b.a)((function(){var e=se().userStore,t=e.fetchUsersAsync,n=e.users,c=(e.current,e.loading),i=Ce(),a=i.openModal,r=i.closeModal,s=Object(h.useState)(),o=Object(v.a)(s,2),l=o[0],d=o[1];Object(h.useEffect)((function(){t()}),[t]);return c?Object(y.jsx)(xe,{content:"Loading",inverted:!0}):Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(Pe,{color:"teal",children:[Object(y.jsx)(Pe.Header,{title:"Users",description:"Manage User Settings",icon:"user outline",children:Object(y.jsx)(p.a.Group,{size:"mini",children:Object(y.jsxs)(p.a,{color:"green",size:"mini",onClick:function(){return a("userFormModal")},children:[Object(y.jsx)(de.a,{name:"add"}),"Add"]})})}),Object(y.jsxs)(Pe.Content,{children:[Object(y.jsx)(zt,{data:n,onEdit:function(e){d(e),a("userFormModal")}}),Object(y.jsx)(Lt,{onChange:function(){r("userFormModal"),t()},userData:l})]})]})})})),Vt=n(506),It=n(505),Bt=$e.a.div(xt||(xt=Object(Ze.a)(["\npostion: relative;\ndisplay: flex;\njustify-content: center;\nz-index: 9999;\n"]))),Ht=$e.a.div(pt||(pt=Object(Ze.a)(["\n    width: 100%;\n    padding: 10px 5px;\n    background: #000;\n    color: white;\n"]))),Gt=$e.a.div(mt||(mt=Object(Ze.a)(["\nposition: absolute;\ntop: 10px;\nright: 5px;\ncolor: white;\nbackground: red;\npadding: 3px;\nborder-radius: 5px;\n"]))),Wt=$e.a.div(vt||(vt=Object(Ze.a)(["\nposition:absolute;\nborder: 1px solid #ccc;\nz-index: 999;\ntop: 65px;\nright: 0;\nwidth: 300px;\nbackground: white;\nmin-height: 200px;\ncolor: #000;\n"]))),Kt=$e.a.ul(gt||(gt=Object(Ze.a)(["\n    list-style:none;\n    display:flex;\n    flex-direction: column;\n    margin: 0;\n    padding:0;\n"]))),Jt=$e.a.li(yt||(yt=Object(Ze.a)(["\n    padding: 15px 5px;\n    width: 100%;\n    &:hover {\n        background: #ccc;\n    }\n"]))),qt=$e.a.div(kt||(kt=Object(Ze.a)(["\n    padding: 0;\n"]))),Qt=Object(b.a)((function(e){var t=e.onListClick,n=fe(),c=n.notify,i=n.notified,a=se().userStore.fetchCurrent,r=Object(h.useState)([]),s=Object(v.a)(r,2),o=s[0],l=s[1],u=Object(h.useState)(!1),j=Object(v.a)(u,2),b=j[0],O=j[1];return Object(h.useEffect)((function(){i&&(a().then((function(e){l(e.notifications)})),c())}),[i]),Object(y.jsx)(y.Fragment,{children:Object(y.jsxs)(Bt,{children:[Object(y.jsx)(Gt,{children:o?o.length:0}),Object(y.jsx)(d.a,{src:"/assets/bell.png",avatar:!0,onClick:function(){return O(!b)}}),Object(y.jsxs)(Wt,{style:b?{display:"block"}:{display:"none"},children:[Object(y.jsx)(Ht,{children:"Notification"}),Object(y.jsx)(qt,{children:Object(y.jsx)(Kt,{children:o&&o.map((function(e,n){return Object(y.jsxs)(Jt,{onClick:t,children:[Object(y.jsx)(de.a,{name:"bullhorn",size:"large"}),e.description]},n)}))})})]})]})})}));$e.a.div(Ct||(Ct=Object(Ze.a)(["\n    position: relative;\n\n"])));var Xt=Object(b.a)((function(e){e.onButtonSidebarClick;var t=se().userStore,n=t.current,c=t.logout,i=Object(s.g)();return Object(y.jsxs)(Vt.a,{inverted:!0,fixed:"top",style:{marginBottom:"7em",zIndex:"999"},className:"blue-inverted",children:[Object(y.jsx)(Vt.a.Item,{children:Object(y.jsx)(d.a,{src:"https://cdn.shopify.com/s/files/1/0394/2698/2055/files/NABCO_LOGOwhite_250x.png?v=1590742571",size:"small"})}),Object(y.jsx)(Vt.a.Item,{position:"right",children:Object(y.jsx)(Qt,{onListClick:function(){return i.push("profile")}})}),Object(y.jsxs)(Vt.a.Item,{children:[Object(y.jsx)(d.a,{src:"/assets/user.png",avatar:!0,spaced:"right"}),Object(y.jsx)(It.a,{pointing:"top right",text:null===n||void 0===n?void 0:n.displayName,children:Object(y.jsxs)(It.a.Menu,{children:[Object(y.jsx)(It.a.Item,{as:r.b,to:"/profile/",text:"My Profile",icon:"user"}),Object(y.jsx)(It.a.Item,{onClick:function(){return c()},text:"Logout",icon:"power"})]})})]})]})})),Yt=["component"];function Zt(e){var t=e.component,n=Object(Ae.a)(e,Yt),c=se().userStore;return Object(y.jsx)(s.b,Object(m.a)(Object(m.a)({},n),{},{render:function(e){return c.isLoggedIn?Object(y.jsx)(t,Object(m.a)({},e)):Object(y.jsx)(s.a,{to:"/"})}}))}var $t=Object(b.a)((function(e){var t=e.currentActive,n=se(),c=n.menuStore.initialize,i=(n.userStore,c());return Object(y.jsx)(h.Fragment,{children:Object(y.jsx)("div",{className:"ui sidebar inverted vertical menu sidebar-menu  labeled icon",id:"sidebar",children:i&&i.map((function(e){return e.enabled&&Object(y.jsx)("div",{className:"item ".concat((n=e.key,t[0]===n?"active":"")),children:Object(y.jsxs)(r.c,{to:e.link,className:"item",children:[Object(y.jsx)(de.a,{name:e.icon,size:"mini"}),e.title]})},e.key);var n}))})})})),en=n(291),tn=n(112),nn=n(292),cn=n.n(nn),an=n(293),rn=n.n(an);n(481);function sn(e){var t=e.value,n=e.setFieldValue,c=Object(h.useState)(t?function(e){var t=rn()(e),n=tn.ContentState.createFromBlockArray(t.contentBlocks);return tn.EditorState.createWithContent(n)}(t):tn.EditorState.createEmpty()),i=Object(v.a)(c,2),a=i[0],r=i[1];return Object(y.jsx)(en.Editor,{editorState:a,wrapperClassName:"custom-wrapper",editorClassName:"custom-editor",onEditorStateChange:function(e){var t=cn()(Object(tn.convertToRaw)(e.getCurrentContent()));n(t),r(e)}})}function on(e){var t=se().activityStore,n=(Object(s.g)(),[]),c=[];0==n.length&&e.default.groups.forEach((function(e,t){return n.push({key:t,value:e,text:e})})),0==c.length&&e.default.templates.forEach((function(e,t){return c.push({key:t,value:e.id,text:e.title})}));return Object(y.jsx)(y.Fragment,{children:Object(y.jsx)(j.d,{initialValues:e.activityValue,onSubmit:function(n){return c=n,void t.sendEmailAsync(c).then((function(){e.onSuccess()}));var c},children:function(e){var i=e.setValues,a=e.values,r=e.dirty;return Object(y.jsx)(j.c,{className:"ui form",children:Object(y.jsxs)(ue.a,{children:[Object(y.jsxs)(ue.a.Column,{width:12,children:[Object(y.jsx)(u.a,{fluid:!0,children:Object(y.jsxs)(u.a.Content,{style:{height:"480px"},children:[Object(y.jsx)("div",{className:"one field",children:Object(y.jsx)(k,{name:"subject",label:"Subject"})}),Object(y.jsx)("div",{className:"one field",children:Object(y.jsx)(sn,{setFieldValue:function(e){return i(Object(m.a)(Object(m.a)({},a),{},{body:e}))},value:a.body})})]})}),Object(y.jsx)(u.a,{fluid:!0,children:Object(y.jsx)(u.a.Content,{children:Object(y.jsxs)("div",{className:"two fields",children:[Object(y.jsx)(w,{name:"toGroup",label:"Customer Group",options:n}),Object(y.jsx)(k,{name:"to",label:"Additional Email Address"})]})})})]}),Object(y.jsxs)(ue.a.Column,{width:4,children:[Object(y.jsx)(u.a,{fluid:!0,children:Object(y.jsxs)(u.a.Content,{children:[Object(y.jsx)(w,{name:"template",label:"Template",options:c,onSelectValueChange:function(e){i(Object(m.a)(Object(m.a)({},a),{},{body:t.getTemplateValue(e).templateHtml})),console.log(t.getTemplateValue(e).templateHtml)}}),Object(y.jsx)("hr",{}),Object(y.jsx)(qe,{placeholderText:"Send Date",name:"dateToSend",dateFormat:"MMMM d, yyyy "})]})}),Object(y.jsxs)("div",{className:"ui grid",children:[Object(y.jsx)("div",{className:"eight wide column",children:Object(y.jsx)(p.a,{positive:!0,content:"Send",type:"submit",disabled:!r,fluid:!0})}),Object(y.jsx)("div",{className:"eight wide column",children:Object(y.jsx)(p.a,{negative:!0,content:"Cancel",type:"button",fluid:!0})})]})]})]})})}})})}var ln=Object(b.a)((function(e){var t=se().activityStore;return Object(y.jsx)(j.d,{initialValues:e.activityValue,onSubmit:function(n){return c=n,void t.postSocialasync(c).then((function(){e.onSuccess()}));var c},children:function(e){e.setValues;var t=e.values,n=e.handleChange,c=e.dirty;return Object(y.jsx)(j.c,{className:"ui form",children:Object(y.jsxs)(ue.a,{children:[Object(y.jsx)(ue.a.Column,{width:12,children:Object(y.jsx)(u.a,{fluid:!0,children:Object(y.jsxs)(u.a.Content,{style:{height:"480px"},children:[Object(y.jsx)("div",{className:"one field",children:Object(y.jsx)(k,{name:"title",label:"Title"})}),Object(y.jsx)("div",{className:"one field",children:Object(y.jsx)(j.b,{name:"body",onChange:n,value:t.body,as:"textarea",style:{marginTop:"10px"}})})]})})}),Object(y.jsx)(ue.a.Column,{width:4,children:Object(y.jsx)(u.a,{fluid:!0,children:Object(y.jsxs)(u.a.Content,{children:[Object(y.jsxs)(f.a,{as:"h4",children:[Object(y.jsx)(de.a,{name:"calendar"})," Schedule"," "]}),Object(y.jsx)(qe,{placeholderText:"Send Date",name:"dateToSend",dateFormat:"MMMM d, yyyy "}),Object(y.jsxs)("div",{className:"ui grid",children:[Object(y.jsx)("div",{className:"eight wide column",children:Object(y.jsx)(p.a,{positive:!0,content:"Send",type:"submit",disabled:!c,fluid:!0})}),Object(y.jsx)("div",{className:"eight wide column",children:Object(y.jsx)(p.a,{negative:!0,content:"Cancel",type:"button",fluid:!0})})]})]})})})]})})}})})),dn=n(513);var un=Object(b.a)((function(e){var t=se(),n=t.activityStore,c=t.campaignStore,i=Object(s.g)(),a=Object(h.useState)(!1),r=Object(v.a)(a,2),o=r[0],l=r[1],d=Object(h.useState)(void 0),b=Object(v.a)(d,2),O=b[0],x=b[1],C=Object(h.useMemo)((function(){return function(e){var t=[];return e.forEach((function(e,n){return t.push({key:n,value:e,text:e})})),t}(e.default.groups)}),[e.default.groups||[]]),S=Object(h.useMemo)((function(){return function(e){var t=[];return e.forEach((function(e,n){return t.push({key:n,value:e.id,text:e.title})})),t}(e.default.templates)}),[e.default.templates||[]]),T=function(e){var t=e.target,n=t.name,i=t.value;if("body"===n)if(i.trim().length>0){var a={word:i};c.getSentimentAsync(a).then((function(e){x(e),l(!0)}))}else l(!1)};return Object(y.jsx)(j.d,{initialValues:e.activityValue,onSubmit:function(t){var c;c=t,n.sendSMSAsync(c).then((function(){e.onSuccess()}))},children:function(t){var c=t.dirty,a=t.handleChange,r=t.values,s=t.setValues;return Object(y.jsx)(j.c,{className:"ui form",children:Object(y.jsxs)(ue.a,{children:[Object(y.jsxs)(ue.a.Column,{width:12,children:[Object(y.jsx)(u.a,{fluid:!0,children:Object(y.jsxs)(u.a.Content,{children:[Object(y.jsx)("div",{children:Object(y.jsx)(k,{name:"title",label:"Title",type:"text"})}),Object(y.jsx)("div",{children:Object(y.jsx)(g.a.Field,{children:Object(y.jsx)(j.b,{name:"body",onChange:a,onBlur:T,value:r.body,as:"textarea",style:{marginTop:"10px"}})})})]})}),Object(y.jsx)(u.a,{fluid:!0,children:Object(y.jsx)(u.a.Content,{children:Object(y.jsxs)("div",{className:"two fields",children:[Object(y.jsx)(w,{name:"toGroup",label:"Customer Group",options:C}),Object(y.jsx)(k,{name:"to",label:"Additional Number"})]})})})]}),Object(y.jsxs)(ue.a.Column,{width:4,children:[Object(y.jsx)(u.a,{fluid:!0,children:Object(y.jsxs)(u.a.Content,{style:{minHeight:"240px"},children:[Object(y.jsxs)(f.a,{as:"h4",children:[Object(y.jsx)(de.a,{name:"calendar"})," Schedule"," "]}),Object(y.jsx)(Ee.a,{vertical:!0,children:Object(y.jsx)(qe,{placeholderText:"Send Date",name:"dateToSend",dateFormat:"MMMM d, yyyy "})}),Object(y.jsx)(Ee.a,{vertical:!0,children:Object(y.jsx)(w,{label:"Template",name:"template",options:S,onSelectValueChange:function(e){s(Object(m.a)(Object(m.a)({},r),{},{body:n.getTemplateValue(e).templateHtml}))}})}),o&&Object(y.jsxs)(Ee.a,{vertical:!0,children:[Object(y.jsxs)("div",{style:{display:"flex",alignItems:"center",flexDirection:"row",gap:"10px"},children:[Object(y.jsx)(f.a,{as:"h4",style:{padding:0,margin:0},children:"Sentiment Analysis"}),Object(y.jsx)(de.a,{name:O&&1===O.label?"thumbs up outline":"thumbs down outline",size:"big"})]}),Object(y.jsx)(dn.a,{percent:O?100*O.score[0]:0,success:!0}),Object(y.jsx)(dn.a,{percent:O?100*O.score[1]:0,error:!0})]})]})}),Object(y.jsx)(ue.a,{children:Object(y.jsxs)(ue.a.Row,{children:[Object(y.jsx)(ue.a.Column,{width:8,textAlign:"center",children:Object(y.jsx)(p.a,{style:{display:"blocked",width:"100%"},positive:!0,content:"Send",type:"submit",disabled:!c})}),Object(y.jsx)(ue.a.Column,{width:8,textAlign:"center",children:Object(y.jsx)(p.a,{style:{display:"blocked",width:"100%"},negative:!0,content:"Cancel",type:"button",onClick:function(){return i.push("/activity/".concat(e.activityValue.campaignId))}})})]})})]})]})})}})})),jn=[{key:1,value:"hlight",text:"Highlight Section"},{key:1,value:"side",text:"Side Section"}],bn=Object(b.a)((function(e){var t=se().activityStore;return Object(y.jsx)(j.d,{initialValues:e.activityValue,onSubmit:function(n){t.postWebAsync(n).then((function(){return e.onSuccess()}))},children:function(e){var t=e.setValues,n=e.values,c=e.dirty;return Object(y.jsx)(j.c,{className:"ui form",children:Object(y.jsxs)(ue.a,{children:[Object(y.jsxs)(ue.a.Column,{width:12,children:[Object(y.jsx)(u.a,{fluid:!0,children:Object(y.jsxs)(u.a.Content,{style:{height:"480px"},children:[Object(y.jsx)("div",{className:"one field",children:Object(y.jsx)(k,{name:"title",label:"Title"})}),Object(y.jsx)("div",{className:"one field",children:Object(y.jsx)(sn,{setFieldValue:function(e){return t(Object(m.a)(Object(m.a)({},n),{},{body:e}))},value:n.body})})]})}),Object(y.jsxs)(ue.a,{columns:2,children:[Object(y.jsx)(ue.a.Column,{children:Object(y.jsx)(u.a,{fluid:!0,children:Object(y.jsx)(u.a.Content,{children:Object(y.jsx)(C,{name:"coverImageFile",onChange:function(e){return t(Object(m.a)(Object(m.a)({},n),{},{coverImageFile:e.currentTarget.files?e.currentTarget.files[0]:void 0}))}})})})}),Object(y.jsx)(ue.a.Column,{children:Object(y.jsx)(u.a,{fluid:!0,children:Object(y.jsx)(u.a.Content,{style:{paddingTop:"20px",paddingBottom:"20px"},children:Object(y.jsx)(w,{name:"to",options:jn})})})})]})]}),Object(y.jsx)(ue.a.Column,{width:4,children:Object(y.jsx)(u.a,{fluid:!0,children:Object(y.jsxs)(u.a.Content,{children:[Object(y.jsxs)(f.a,{as:"h4",children:[Object(y.jsx)(de.a,{name:"calendar"})," Schedule "]}),Object(y.jsx)(qe,{placeholderText:"Send Date",name:"dateToSend",dateFormat:"MMMM d, yyyy "}),Object(y.jsxs)("div",{className:"ui grid",children:[Object(y.jsx)("div",{className:"eight wide column",children:Object(y.jsx)(p.a,{positive:!0,content:"Send",type:"submit",disabled:!c,fluid:!0})}),Object(y.jsx)("div",{className:"eight wide column",children:Object(y.jsx)(p.a,{negative:!0,content:"Cancel",type:"button",fluid:!0})})]})]})})})]})})}})})),hn=Object(b.a)((function(){var e=Object(s.h)(),t=e.id,n=e.type,c=se().activityStore,i=Object(s.g)();Object(h.useEffect)((function(){c.initialize(n)}),[t,n,c]);var a=Object(h.useCallback)((function(){i.push("/activity/".concat(t))}),[t]);return Object(y.jsx)(y.Fragment,{children:function(e){switch(e){case"sms":return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(f.a,{as:"h2",children:"SMS Activity"}),Object(y.jsx)(un,{default:c.default,onSuccess:a,activityValue:new G(t,n)})]});case"email":return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(f.a,{as:"h2",children:"Email Activity"}),Object(y.jsx)(on,{default:c.default,onSuccess:a,activityValue:new G(t,n)})]});case"web":return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(f.a,{as:"h2",children:"Web Post Activity"}),Object(y.jsx)(bn,{default:c.default,activityValue:new G(t,n),onSuccess:a})]});case"social":return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(f.a,{as:"h2",children:"Facebook Activity"}),Object(y.jsx)(ln,{default:c.default,activityValue:new G(t,n),onSuccess:a})]})}}(n)})})),On=Object(b.a)((function(){var e=Object(h.useState)(new ne),t=Object(v.a)(e,2),n=t[0],c=t[1],i=se().userStore,a=i.fetchProfileAsync,r=i.updateNotification;Object(h.useEffect)((function(){a().then((function(e){return c(e)}))}),[a]);return Object(y.jsxs)(Pe,{color:"yellow",children:[Object(y.jsx)(Pe.Header,{title:"User Profile",description:"",icon:"user outline"}),Object(y.jsx)(Pe.Content,{children:Object(y.jsxs)(ue.a,{children:[Object(y.jsxs)(ue.a.Row,{children:[Object(y.jsx)(ue.a.Column,{width:4,children:Object(y.jsx)(d.a,{})}),Object(y.jsx)(ue.a.Column,{width:12,children:Object(y.jsx)(u.a,{fluid:!0,children:Object(y.jsxs)(u.a.Content,{children:[Object(y.jsxs)("div",{className:"row-container",children:[Object(y.jsxs)("div",{className:"col",children:[Object(y.jsx)("label",{children:"Display Name: "}),Object(y.jsx)("span",{children:n.displayName})]}),Object(y.jsx)("div",{className:"col"})]}),Object(y.jsxs)("div",{className:"row-container",children:[Object(y.jsxs)("div",{className:"col",children:[Object(y.jsx)("label",{children:"User Name: "}),Object(y.jsx)("span",{children:n.username})]}),Object(y.jsx)("div",{className:"col"})]})]})})})]}),Object(y.jsx)(ue.a.Row,{children:Object(y.jsx)(ue.a.Column,{children:Object(y.jsxs)(pe.a,{children:[Object(y.jsx)(pe.a.Header,{children:Object(y.jsx)(pe.a.Row,{children:Object(y.jsx)(pe.a.HeaderCell,{children:"Notifications"})})}),n.notifications.map((function(e,t){return Object(y.jsx)(pe.a.Row,{children:Object(y.jsx)(pe.a.Cell,{children:e.hasRead?Object(y.jsx)("span",{children:e.description}):Object(y.jsx)("a",{href:"#",onClick:function(){return t=e.id,void r(t).then((function(){var e=n.notifications.find((function(e){return e.id==t})),i=n.notifications.filter((function(e){return e.id!=t}));void 0!==e&&(e.hasRead=!0,c(Object(m.a)(Object(m.a)({},n),{},{notifications:[].concat(Object(ze.a)(i),[e])})))}));var t},children:e.description})})},t)}))]})})})]})})]})})),fn=Object(b.a)((function(){var e=Object(h.useState)(!1),t=Object(v.a)(e,2),n=t[0],c=t[1],i=se(),a=i.userStore,r=a.fetchCurrent,l=(a.current,i.commonStore);return Object(h.useEffect)((function(){l.token&&r().finally((function(){return l.setAppLoaded()}))}),[]),Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(o.a,{children:Object(y.jsx)("style",{children:"body {background-color: #eaeaea !important;}"})}),Object(y.jsx)(Xt,{onButtonSidebarClick:function(){c(!n)}}),Object(y.jsx)(F.a,{position:"bottom-center"}),Object(y.jsx)($t,{currentActive:Object(s.h)()}),Object(y.jsx)("div",{className:"pusher",children:Object(y.jsx)("div",{className:"main-content",children:Object(y.jsxs)(s.d,{children:[Object(y.jsx)(Zt,{path:["/contact-create","/contact/:id"],component:dt}),Object(y.jsx)(Zt,{path:"/contact",component:st}),Object(y.jsx)(Zt,{path:"/campaign",exact:!0,component:ct}),Object(y.jsx)(Zt,{path:"/activity/:id",exact:!0,component:Re}),Object(y.jsx)(Zt,{path:"/activity/:id/:type",component:hn}),Object(y.jsx)(Zt,{path:"/task",exact:!0,component:_t}),Object(y.jsx)(Zt,{path:"/task/:id",exact:!0,component:Pt}),Object(y.jsx)(Zt,{path:"/setting",exact:!0,component:wt}),Object(y.jsx)(Zt,{path:"/user",exact:!0,component:Ut}),Object(y.jsx)(Zt,{path:"/profile",exact:!0,component:On}),Object(y.jsx)(Zt,{component:ut})]})})})]})}));function xn(){return Object(y.jsxs)(y.Fragment,{children:[Object(y.jsx)(s.b,{exact:!0,path:"/",component:le}),Object(y.jsx)(s.b,{path:"/(.+)",component:fn})]})}var pn=n(43),mn=Object(pn.a)();i.a.render(Object(y.jsx)(re.Provider,{value:ae,children:Object(y.jsx)(r.a,{children:Object(y.jsx)(ke,{children:Object(y.jsx)(Oe,{children:Object(y.jsx)(xn,{})})})})}),document.getElementById("root")),a()}},[[482,1,2]]]);
//# sourceMappingURL=main.56f1afe2.chunk.js.map